@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* ==========================================
     1. Light Mode (Default)
    ========================================== */
 :root {
    /* Main Palette */
    --background: 0 0% 98%;           /* off-white */
    --foreground: 0 0% 8%;            /* softened black for less harsh contrast */

    --primary: 154 100% 42%;          /* green slightly toned for better contrast */
    --primary-foreground: 0 0% 100%;  /* white text on green if needed */

    /* Component Colors */
    --card: 0 0% 100%;                 /* white */
    --card-foreground: 0 0% 12%;       /* dark gray */
    
    --popover: 0 0% 100%;              /* white */
    --popover-foreground: 0 0% 12%;

    --muted: 0 0% 92%;                 /* hover color */
    --muted-foreground: 0 0% 36%;      /* readable gray for body/subhead */

    --border: 0 0% 85%;               /* light gray for borders */
    --input: 0 0% 85%;
    --ring: 154 100% 42%;             /* green for focus rings */

    /* Other vars */
    --radius: 0.75rem;
  }

  /* ==========================================
     2. Dark Mode (When html.dark is present)
    ========================================== */
  html.dark {
    /* Main Palette */
    --background: 0 0% 2%;             /* near-black */
    --foreground: 0 0% 96%;            /* near-white */

    --primary: 154 100% 48%;           /* bright green on dark BG */ 
    --primary-foreground: 0 0% 0%;     /* black for primary text if needed */

    /* Component Colors */
    --card: 0 0% 6%;                   /* deep dark */
    --card-foreground: 0 0% 95%;       /* off-white */
    
    --popover: 0 0% 4%;                
    --popover-foreground: 0 0% 95%;

    --muted: 0 0% 14%;               
    --muted-foreground: 0 0% 66%;    

    --border: 0 0% 20%;
    --input: 0 0% 15%;
    --ring: 154 100% 48%;
  }

  /* ==========================================
     3. Base Styles
    ========================================== */
  * {
    @apply border-border;
  }
  html, body {
    height: 100%;
  }
  body {
    @apply bg-background text-foreground antialiased;
    @apply transition-colors duration-300;
    font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Hero helper: controlled glow/backdrop for dark hero sections */
  .hero-glow {
    /* avoids massive repaints and keeps contrast correct */
    background-repeat: no-repeat;
    background-attachment: local;
    /* small subtle vignette for better focus on center content */
    box-shadow: inset 0 -120px 140px -80px rgba(0,0,0,0.35);
  }

  /* Headings defaults for improved hero control */
  h1 {
    /* default hero-friendly sizes; components can override */
    @apply font-serif font-extrabold;
    line-height: 1.02;
    letter-spacing: -0.01em;
    /* prevent insane wrapping on narrow screens */
    word-break: keep-all;
  }
  h2, h3 {
    @apply font-semibold;
  }

  /* CTA focus styles (accessibility) */
  :focus {
    outline: none;
  }
  :focus-visible {
    box-shadow: 0 0 0 4px hsl(var(--ring) / 0.14);
    border-radius: 0.5rem;
  }

  /* Small utility to make very large hero text responsive if needed */
  .hero-h1-tight {
    font-size: clamp(2rem, 5.5vw, 4.75rem); /* responsive clamp */
    line-height: 1.02;
  }

  /* ... Keyframes ... */
  @keyframes shine {
    from { background-position: 200% 0; }
    to { background-position: -200% 0; }
  }
  @keyframes scroll-left {
    0% { transform: translateX(0); }
    100% { transform: translateX(-100%); }
  }
  @keyframes scroll-right {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(0); }
  }

  /* Embla Carousel Base */
  .embla { overflow: hidden; }
  .embla__container { display: flex; }
  .embla__slide { flex: 0 0 auto; min-width: 0; position: relative; }
}
